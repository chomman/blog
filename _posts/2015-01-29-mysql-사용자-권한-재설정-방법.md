---
title: mysql 사용자 권한 재설정 방법
layout: post
categories:
  - DB
tags:
  - mysql
  - mysqld
  - mysqld_safe
  - root 접속
  - 권한
  - 실수
  - 재설정
---
Mysql에서 사용자 권한을 실수로 잘못 부여한 경우 localhost에서도 root 로 접속이 안 될 수 있습니다.

이런 경우 해결방법은 grant 테이블을 사용하지 않고 데몬을 띄워 권한을 재설정하는 것입니다.

&nbsp;

1. mysqld 데몬을 죽입니다.

#killall mysqld↵

또는(centos 서비스 등록되어 있는 경우)

#service mysqld stop↵

&nbsp;

2. mysql 설치위치의 mysql_safe 명령어로 grant 옵션 없이 mysqld를 실행

(centos yum 설치인 경우 /usr/bin)

#mysql_safe &#8211;skip-grant &↵

&nbsp;

3. mysql  DB 접속, 비밀번호 프롬프트에서 엔터 치고 넘어감

#mysql -u root -p mysql↵

&nbsp;

4. INSERT 문으로 root에게 모든 권한 부여

또는 잘못된 데이터 삭제 또는 수정

mysql>insert into user values(&#8216;localhost&#8217;, &#8216;root&#8217;, password(&#8216;1234&#8242;), &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;, &#8216;Y&#8217;);

&nbsp;

5. mysql 새로운 사용자 정보 갱신

mysql>flush privileges;

&nbsp;

6. mysql 접속 종료

mysql>exit

&nbsp;

7. mysqld 종료

#killall mysqld↵

&nbsp;

8. 일반모드로 mysql 서버 재시작

