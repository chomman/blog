---
title: Mysql 일일 백업 및 이전 백업 삭제 스크립트
layout: post
categories:
  - DB
  - Programming
tags:
  - daily backup
  - delete old backup
  - mysql
  - mysql backup
  - script
  - 백업
  - 스크립트
  - 윈도우
  - 일일 백업
---
Windows 시스템에서 mysql을 하루하루 백업하고 이전 백업은 삭제하는 스크립트

<pre class="lang:sh decode:true ">@echo off

echo Starting Backup of Mysql Database on server 

For /f "tokens=2-4 delims=/ " %%a in ('date /t') do (set dt=%%c-%%a-%%b)

For /f "tokens=1-4 delims=:." %%a in ('echo %time%') do (set tm=%%a%%b%%c%%d)

set bkupfilename=%1 %dt% %tm%.sql

echo Backing up to file: %bkupfilename%

mysqldump  --routines -u &lt;username&gt; -p&lt;password&gt;  &lt;database name&gt; &gt; D:\mysql_daily_backups\"&lt;databasename&gt;%bkupfilename%"

mysqldump  --routines -u &lt;username&gt; -p&lt;password&gt;  &lt;databasename&gt; &gt; D:\mysql_daily_backups\"&lt;databasename&gt;%bkupfilename%"

echo on

echo delete old backup

forfiles /p D:\mysql_daily_backups /s /m *.* /d -3 /c "cmd /c del @file : date &gt;= 3days"

echo Backup Complete!</pre>
