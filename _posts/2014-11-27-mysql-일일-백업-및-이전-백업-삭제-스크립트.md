---
id: 1463
title: Mysql 일일 백업 및 이전 백업 삭제 스크립트
author: 정태현
layout: post
guid: http://monggu.com/?p=1463
permalink: /mysql-%ec%9d%bc%ec%9d%bc-%eb%b0%b1%ec%97%85-%eb%b0%8f-%ec%9d%b4%ec%a0%84-%eb%b0%b1%ec%97%85-%ec%82%ad%ec%a0%9c-%ec%8a%a4%ed%81%ac%eb%a6%bd%ed%8a%b8/
exclude:
  - 
url:
  - 
hdimage:
  - 
slide_template:
  - default
custom_sidebar:
  - Default
post_video_type:
  - youtube
categories:
  - DB
  - Programming
tags:
  - daily backup
  - delete old backup
  - mysql
  - mysql backup
  - script
  - 백업
  - 스크립트
  - 윈도우
  - 일일 백업
---
Windows 시스템에서 mysql을 하루하루 백업하고 이전 백업은 삭제하는 스크립트

<pre class="lang:sh decode:true ">@echo off

echo Starting Backup of Mysql Database on server 

For /f "tokens=2-4 delims=/ " %%a in ('date /t') do (set dt=%%c-%%a-%%b)

For /f "tokens=1-4 delims=:." %%a in ('echo %time%') do (set tm=%%a%%b%%c%%d)

set bkupfilename=%1 %dt% %tm%.sql

echo Backing up to file: %bkupfilename%

mysqldump  --routines -u &lt;username&gt; -p&lt;password&gt;  &lt;database name&gt; &gt; D:\mysql_daily_backups\"&lt;databasename&gt;%bkupfilename%"

mysqldump  --routines -u &lt;username&gt; -p&lt;password&gt;  &lt;databasename&gt; &gt; D:\mysql_daily_backups\"&lt;databasename&gt;%bkupfilename%"

echo on

echo delete old backup

forfiles /p D:\mysql_daily_backups /s /m *.* /d -3 /c "cmd /c del @file : date &gt;= 3days"

echo Backup Complete!</pre>

&nbsp;



<!-- SEO Ultimate (http://www.seodesignsolutions.com/wordpress-seo/) - Code Inserter module -->

  
  
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-4058194403762977" data-ad-slot="4726363844"></ins>  
<!-- /SEO Ultimate -->